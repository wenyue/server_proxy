# TCP 2083 -> backend 8.219.123.14:4001
upstream backend_2083_tcp {
    server 8.219.123.14:2083;   # Replace with your backend if needed
}

server {
    listen 0.0.0.0:2083;          # Listen on TCP/4001 (IPv4)
    listen [::]:2083;             # Listen on TCP/4001 (IPv6)
    proxy_connect_timeout 5s;     # Upstream connect timeout
    proxy_timeout 300s;           # Session timeout
    proxy_pass backend_2083_tcp;  # Forward to backend
}

# UDP 2083 -> backend 8.219.123.14:4001 (e.g., QUIC/IPFS)
upstream backend_2083_udp {
    server 8.219.123.14:2083;   # Same backend for UDP
}

server {
    listen 0.0.0.0:2083 udp;      # Listen on UDP/4001 (IPv4)
    listen [::]:2083 udp;         # Listen on UDP/4001 (IPv6)
    proxy_timeout 120s;           # UDP session timeout
    proxy_pass backend_2083_udp;  # Forward to backend
}
