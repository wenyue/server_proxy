# Nginx Stream Bandwidth Logs Rotation Configuration
# This file manages automatic rotation of bandwidth monitoring logs

/var/log/nginx/stream_*_bandwidth.log {
    # Rotate when file size exceeds 100MB
    size 100M

    # Keep 10 rotated files
    rotate 10

    # Compress old logs
    compress
    delaycompress
    notifempty
    create 0644 www-data www-data
    dateext
    missingok

    postrotate
        if [ -f /var/run/nginx.pid ]; then
            /bin/kill -USR1 `cat /var/run/nginx.pid`
        fi
    endscript
}
